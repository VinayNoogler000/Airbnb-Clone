# Airbnb Clone - My First Full-Stack Web Development Project

## Preview
![Airbnb-Clone-by-VT-Preview](https://github.com/VinayNoogler000/Airbnb-Clone/blob/main/public/preview.png?raw=true)

## Learnings
1. **Middelwares**: In Express app, the functions which get executed after the servers receives client requests, and before sending a response to the client are called middlewares. To define functions as middlewares, we need to pass them inside `app.use()` method, whose 1st arg is the path of the website, to which the client sends request to, and 2nd arg is the function/middleware itself, which takes 3 args `(req, res, next)`, where we know about `res`, & `req` objects, which stores information and allows us to perform ops. on client's request and server's response, whereas, the `next` object, is a function, which we need to execute at the end of the middleware to handle the control to the next middleware or route-handler, and calling this `next()` is only ommitable, if the middleware directly sends the response to the client's request.
2. **Authentication & Authorization**: Authentication is the process of the knowing "who is the user?" (identication), whereas Authorization is the process of knowing "what actions the user is allowed to do?" (verification). For eg: sign-up/login pages of a website are for the user identification (authentication), whereas, in websites like YouTube, uploding videos on your channel, commenting, liking comments, editing comments, etc. are the actions which the users are allowed to do (authorization).
3. **Encoding V/S Encrypting**: While both transform data, encoding (eg., Base64, URL encoding) changes data format for compatibility and usability, and is easily reversible, whereas, Encryption (eg., HTTPS, AES) secures data by making it unreadable without a secret key, protecting confidentiality.
4. **Passport.js**: An authentication middleware for Express-based web apps, which is extremely flexible and modular, and also has a comprehensive set of strategies (authentication methods) for authentication, like local (username and password), Google, Facebook, Twitter, and more.
5. **Top 10 Authentication Methods/Strategies**: For user authentication, commonly used strategies in web applications include Username/Password, Social Logins (OAuth/OpenID Connect), JSON Web Tokens (JWT), Multi-Factor Authentication (MFA), Passwordless (Magic Links/OTPs), Single Sign-On (SSO), API Keys, Biometrics, Certificate-Based, and HTTP Basic/Digest (though the latter is less recommended for new web apps). I plan to integrate few of these using the `Passport.js` NPM package.
6. **Top 5 Social Media Platforms for Authentication**: To provide convenient social login options, the most widely adopted platforms for user authentication are Google, Facebook, Apple, LinkedIn, and GitHub/Microsoft.
7. **Passport-local**: It's a Passport.js strategy for authenticating users based on their username and password, in the Express web app. Download and install as an NPM package.
8. **Passport-local-mongoose**: It's a Mongoose Plugin that simplifies user authentication in an Express web app, usingwith `Passport.js` local strategy. Also avaiable as an NPM package. It will automatically add a username, hash and salt field to store the username, the hashed password and the salt value, to the `User` model, irrespective of the whether we've define those properties of the `User` model or not. Additionally, it also adds some methods to the `User` model.
9. **Session**: A web applilcation needs the ability to identify the users as the browse from page to page. The series of request-response cycles associate with a single user, is called a session. By-default, the session starts when the user gets access to the website, and ends when the user closes the browser. But the expiry of the session can be changed by settin the `maxAge` option of the session.
10. **Handling User-Authentication Requests**: To handle seamlessly, I used `passport.authenticate()` function as a middleware, which, generally, takes two options `failureRedirect` and `failureFlash`, where `failureRedirect` is used to specify the path at which the client will be redirected to upon failed authentication, whereas, `failureFlash` when set to `true`, it displays a flash message (as an alert/error pop-up) on the webpage, displaying the reason of failed authentication.
11. **Checking the Status of Authentication**: To know whether the user is authenticated or not `req.isAuthenticated()` method is used, which returns `true`, if the user is authenticated, else `false`. And, this gets updated, when the `req.user` property (obj) gets updated with the user's credentials (without password).
12. **Automatic Login on Successful SignUp**: To make the user automatically login the website, upon successfuly sign-up, then we use `req.login()` method, which is added/exposed my `Passport.js` middelware, which takes the registered user and a callback (with `err` parameter), as arguments. The callback (2nd arg) of the `req.login()` allows us to define the operations to be performed upon successful login or failure. Also, `passport.authenticate()` for `/login` path, also uses `req.login()` to add user credentials to session.
13. **Authorization**: Created a `isAuthorized()` middleware function to check that if the current user is authorized (owner/author) to modify the listing/review, by assigning their owner and author to each listing and review, respectively, then using the `currUser` information, which is stored by the `passport.js` after authentication, in the `req.user` object, to check whether he/she is the actual owner/author of the listing/review or not, respectively, if yes, then only they can modify the resource, else not.
14. **MVC Architecture**: MVC stands for Model-View-Controller. It's a design patern —a way to right code— followed in industry for maximizing code readability, and maintainability. In MVC:
   - 'Model' refers to a folder in the server directory which stores DB Models (or Collections), which allows us to perform CRUD Ops. in DBs
   - 'View' refers to a folder containing templates (or dynamic HTML docs) to be rendered and sent to the client (or browser), and
   - 'Controller' refers to a folder containing route-handlers or API functions/callbacks to be executed when the server (Express web app) receives HTTP client-request on a particular path of a website of a particular HTTP-Method, to get access to a resource or to perform CRUD Ops.  
15. **Router.route() method**: It helps us to avoid the redundancy of writing the route/path (to which client sends requests to) multipe times, for each and every type of HTTP-requests and route-handlers, by allowing us to write the route/path only once, and group all the route-handlers for the same path, below it, increasing the code readability and maintainability, also avoiding writing incorrect path.
16. **Starability.css**: It's a CSS library of pre-defined rating stars with animations, which we can directly use (copy/paste) in our webapp to display rating stars for enhnaced UI/UX.
17. **Cloudinary for Image Storage & Delivery**: Integrated [Cloudinary](https://console.cloudinary.com/app) to store images and deliver them to the client, by first making the frontend capable to send files/images to the backend by setting the `<form enctype="multipart/form-data">`, then parsing the files in the backend by using `multer.js` middleware, then uploading the image to the Cloudinary storage by using `cloudinary` and `multer-cloudinary-storage` NPM packages, then the image URL received by the Cloudinary is added to the database, which upon client-requests sent and rendered on the client-side.  